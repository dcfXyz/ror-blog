<div class="row">
  <div class="col-lg-12">
    <div class="page-header">
      <h1>Post List</h1>
    </div>
  </div>
</div>


<div class="row">
  <div class="col-lg-10 col-lg-offset-1">
    <p> There are <%= @posts.count %> post </p>

    <table class="table table-striped table-hover">
      <thead>
      <tr>
        <th>id</th>
        <th>author</th>
        <th>title</th>
        <th>content</th>
        <th>comment count</th>
      </tr>
      </thead>
      <tbody>
      <% @posts.each do |post| %>
          <tr>
            <td><%= post.id %></td>
            <td>
              <%= link_to post.author, user_path(User.find_by(username: post.author)) %>
            </td>
            <td><%= post.title %></td>
            <td><%= link_to post.content[0..100], post_path(post) %></td>
            <td><%= post.comments.count %></td>
          </tr>
      <% end %>
      </tbody>
    </table>
    <div>
      <%= will_paginate @posts, class: "pagination" %>
    </div>

  </div>
</div>
